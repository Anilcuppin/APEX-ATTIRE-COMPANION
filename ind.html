<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Apex Attire - F1 Inspired Streetwear</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts: Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;900&display=swap" rel="stylesheet">

    <!-- React and Babel for JSX -->
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #111827; /* Dark Gray */
            color: #F3F4F6; /* Light Gray */
        }
        .f1-accent {
            color: #EF4444; /* Racing Red */
        }
        .f1-bg-accent {
            background-color: #EF4444;
        }
        .f1-border-accent {
            border-color: #EF4444;
        }
        /* Custom scrollbar for a sleeker look */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #1F2937;
        }
        ::-webkit-scrollbar-thumb {
            background: #4B5563;
            border-radius: 10px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #6B7280;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useMemo } = React;

        // --- MOCK DATA ---
        // In a real app, this would come from an API
        const allProducts = [
            { id: 1, category: 'Tees', name: 'Velocity V-Neck Tee', price: 55.00, image: 'https://placehold.co/600x600/1a1a1a/ffffff?text=Velocity+Tee' },
            { id: 2, category: 'Tees', name: 'Grid-Start Graphic Tee', price: 60.00, image: 'https://placehold.co/600x600/1a1a1a/ffffff?text=Grid-Start+Tee' },
            { id: 3, category: 'Tees', name: 'Apex Performance Tee', price: 65.00, image: 'https://placehold.co/600x600/1a1a1a/ffffff?text=Apex+Tee' },
            { id: 4, category: 'Tees', name: 'Paddock Club Polo', price: 85.00, image: 'https://placehold.co/600x600/1a1a1a/ffffff?text=Paddock+Polo' },
            { id: 5, category: 'Tees', name: 'Chicane Long-Sleeve', price: 75.00, image: 'https://placehold.co/600x600/1a1a1a/ffffff?text=Chicane+LS' },
            { id: 6, category: 'Tees', name: 'Final Lap Vintage Tee', price: 58.00, image: 'https://placehold.co/600x600/1a1a1a/ffffff?text=Final+Lap+Tee' },
            // Add other categories for future use if needed
            { id: 7, category: 'Jackets', name: 'Monaco Windbreaker', price: 150.00, image: 'https://placehold.co/600x600/1a1a1a/ffffff?text=Monaco+Jacket' },
            { id: 8, category: 'Caps', name: 'Podium Snapback', price: 40.00, image: 'https://placehold.co/600x600/1a1a1a/ffffff?text=Podium+Cap' },
        ];
        
        // --- REUSABLE COMPONENTS ---

        const Header = ({ setPage, cartItemCount }) => (
            <header className="bg-gray-900/80 backdrop-blur-sm sticky top-0 z-50">
                <nav className="container mx-auto px-4 sm:px-6 lg:px-8 flex items-center justify-between h-20">
                    <div className="flex-shrink-0">
                        <a href="#" onClick={() => setPage('home')} className="text-2xl font-black tracking-tighter uppercase">
                            APEX <span className="f1-accent">ATTIRE</span>
                        </a>
                    </div>
                    <div className="hidden md:flex items-center space-x-8">
                        <a href="#" onClick={() => setPage('home')} className="text-gray-300 hover:text-white transition-colors">Home</a>
                        <a href="#" onClick={() => setPage('category')} className="text-gray-300 hover:text-white transition-colors">Products</a>
                    </div>
                    <div className="flex items-center space-x-4">
                        {/* Non-functional icons for breadth */}
                        <button className="text-gray-400 hover:text-white transition-colors">
                            <svg xmlns="http://www.w3.org/2000/svg" className="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" /></svg>
                        </button>
                        <button onClick={() => setPage('login')} className="text-gray-400 hover:text-white transition-colors">
                             <svg xmlns="http://www.w3.org/2000/svg" className="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" /></svg>
                        </button>
                        <button onClick={() => setPage('cart')} className="relative text-gray-400 hover:text-white transition-colors">
                            <svg xmlns="http://www.w3.org/2000/svg" className="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z" /></svg>
                            {cartItemCount > 0 && (
                                <span className="absolute -top-2 -right-2 f1-bg-accent text-white text-xs rounded-full h-5 w-5 flex items-center justify-center">{cartItemCount}</span>
                            )}
                        </button>
                    </div>
                </nav>
            </header>
        );

        const ProductCard = ({ product, setPage, setSelectedProduct }) => (
            <div 
                className="bg-gray-800 rounded-lg overflow-hidden group cursor-pointer"
                onClick={() => {
                    setSelectedProduct(product);
                    setPage('product');
                }}
            >
                <div className="overflow-hidden">
                    <img src={product.image} alt={product.name} className="w-full h-auto aspect-square object-cover group-hover:scale-105 transition-transform duration-300" />
                </div>
                <div className="p-4">
                    <h3 className="text-lg font-semibold text-white truncate">{product.name}</h3>
                    <p className="text-gray-400">${product.price.toFixed(2)}</p>
                </div>
            </div>
        );

        // --- PAGE COMPONENTS ---

        const HomePage = ({ setPage }) => (
            <div className="animate-fade-in">
                {/* Hero Section */}
                <div className="relative h-[60vh] md:h-[80vh] flex items-center justify-center text-center bg-cover bg-center" style={{backgroundImage: "url('https://images.unsplash.com/photo-1607875373889-54c4153db331?q=80&w=2940&auto=format&fit=crop')"}}>
                    <div className="absolute inset-0 bg-black/60"></div>
                    <div className="relative z-10 px-4">
                        <h1 className="text-4xl md:text-6xl lg:text-7xl font-black uppercase tracking-tighter text-white">Engineered for the <span className="f1-accent">Streets</span></h1>
                        <p className="mt-4 text-lg md:text-xl text-gray-300 max-w-2xl mx-auto">High-performance streetwear inspired by the pinnacle of motorsport.</p>
                        <button 
                            onClick={() => setPage('category')}
                            className="mt-8 px-8 py-3 f1-bg-accent text-white font-bold uppercase rounded-md hover:bg-red-700 transition-colors"
                        >
                            View All Products
                        </button>
                    </div>
                </div>

                {/* Category Section */}
                <div className="container mx-auto px-4 sm:px-6 lg:px-8 py-16">
                    <h2 className="text-3xl font-bold text-center mb-8">Shop by Category</h2>
                    <div className="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4 md:gap-6">
                        {['Tees', 'Jackets', 'Caps', 'Accessories', 'Limited'].map((category, index) => (
                            <div 
                                key={category}
                                onClick={() => index === 0 && setPage('category')}
                                className={`relative aspect-video rounded-lg flex items-center justify-center p-4 text-white text-xl font-bold uppercase tracking-wider bg-gray-800 ${index === 0 ? 'cursor-pointer hover:bg-gray-700' : 'opacity-50 cursor-not-allowed'} transition-all`}
                            >
                                <div className="absolute inset-0 bg-black/30"></div>
                                <span className="relative z-10">{category}</span>
                                {index !== 0 && <span className="absolute bottom-2 text-xs font-normal normal-case">(Coming Soon)</span>}
                            </div>
                        ))}
                    </div>
                </div>
            </div>
        );

        const CategoryPage = ({ products, setPage, setSelectedProduct }) => {
            const [searchTerm, setSearchTerm] = useState('');
            
            const filteredProducts = useMemo(() => 
                products.filter(p => 
                    p.name.toLowerCase().includes(searchTerm.toLowerCase())
                ), [products, searchTerm]);

            return (
                <div className="container mx-auto px-4 sm:px-6 lg:px-8 py-12 animate-fade-in">
                    <h1 className="text-4xl font-black mb-2">All Tees</h1>
                    <p className="text-gray-400 mb-8">Browse our collection of premium F1-inspired t-shirts.</p>
                    
                    {/* Search Input */}
                    <div className="mb-8">
                        <input 
                            type="text"
                            placeholder="Search for a product..."
                            value={searchTerm}
                            onChange={(e) => setSearchTerm(e.target.value)}
                            className="w-full max-w-md bg-gray-800 border border-gray-700 rounded-md py-2 px-4 text-white focus:outline-none focus:ring-2 focus:ring-red-500"
                        />
                    </div>
                    
                    {/* Products Grid */}
                    {filteredProducts.length > 0 ? (
                        <div className="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
                            {filteredProducts.map(product => (
                                <ProductCard key={product.id} product={product} setPage={setPage} setSelectedProduct={setSelectedProduct} />
                            ))}
                        </div>
                    ) : (
                        <div className="text-center py-16 bg-gray-800 rounded-lg">
                            <h2 className="text-2xl font-bold">No Products Found</h2>
                            <p className="text-gray-400 mt-2">Your search for "{searchTerm}" did not match any products.</p>
                        </div>
                    )}
                </div>
            );
        };

        const ProductPage = ({ product, addToCart, setPage }) => {
            if (!product) {
                return (
                    <div className="container mx-auto text-center py-20">
                        <p>No product selected. Please go back to the products page.</p>
                        <button onClick={() => setPage('category')} className="mt-4 px-6 py-2 f1-bg-accent text-white rounded-md">Back to Products</button>
                    </div>
                );
            }

            return (
                <div className="container mx-auto px-4 sm:px-6 lg:px-8 py-12 animate-fade-in">
                    <div className="grid md:grid-cols-2 gap-12 items-start">
                        <div>
                           <img src={product.image} alt={product.name} className="w-full rounded-lg shadow-lg" />
                        </div>
                        <div>
                            <h1 className="text-4xl font-bold text-white">{product.name}</h1>
                            <p className="text-3xl f1-accent my-4">${product.price.toFixed(2)}</p>
                            <p className="text-gray-300 leading-relaxed mb-8">
                                A premium quality tee crafted for comfort and style, inspired by the high-octane world of Formula 1. Made from 100% heavyweight cotton.
                            </p>
                            <button 
                                onClick={() => addToCart(product)}
                                className="w-full px-8 py-4 f1-bg-accent text-white font-bold uppercase rounded-md hover:bg-red-700 transition-colors"
                            >
                                Add to Cart
                            </button>
                        </div>
                    </div>
                </div>
            );
        };
        
        const CartPage = ({ cart, updateQuantity, removeFromCart, setPage }) => {
            const subtotal = useMemo(() => cart.reduce((sum, item) => sum + item.price * item.quantity, 0), [cart]);

            return (
                <div className="container mx-auto px-4 sm:px-6 lg:px-8 py-12 animate-fade-in">
                    <h1 className="text-4xl font-black mb-8">Your Cart</h1>
                    {cart.length === 0 ? (
                        <div className="text-center py-16 bg-gray-800 rounded-lg">
                            <h2 className="text-2xl font-bold">Your cart is empty.</h2>
                            <p className="text-gray-400 mt-2">Looks like you haven't added anything yet.</p>
                            <button onClick={() => setPage('category')} className="mt-6 px-6 py-2 f1-bg-accent text-white rounded-md hover:bg-red-700 transition-colors">Start Shopping</button>
                        </div>
                    ) : (
                        <div className="grid lg:grid-cols-3 gap-8">
                            <div className="lg:col-span-2 space-y-4">
                                {cart.map(item => (
                                    <div key={item.id} className="flex items-center bg-gray-800 p-4 rounded-lg">
                                        <img src={item.image} alt={item.name} className="w-24 h-24 object-cover rounded-md mr-4" />
                                        <div className="flex-grow">
                                            <h3 className="font-semibold text-lg">{item.name}</h3>
                                            <p className="text-gray-400">${item.price.toFixed(2)}</p>
                                        </div>
                                        <div className="flex items-center space-x-3">
                                            <button onClick={() => updateQuantity(item.id, item.quantity - 1)} className="w-8 h-8 bg-gray-700 rounded-md hover:bg-gray-600">-</button>
                                            <span>{item.quantity}</span>
                                            <button onClick={() => updateQuantity(item.id, item.quantity + 1)} className="w-8 h-8 bg-gray-700 rounded-md hover:bg-gray-600">+</button>
                                        </div>
                                        <button onClick={() => removeFromCart(item.id)} className="ml-6 text-gray-500 hover:text-red-500 transition-colors">
                                            <svg xmlns="http://www.w3.org/2000/svg" className="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M6 18L18 6M6 6l12 12" /></svg>
                                        </button>
                                    </div>
                                ))}
                            </div>
                            <div className="bg-gray-800 p-6 rounded-lg h-fit">
                                <h2 className="text-2xl font-bold mb-4">Order Summary</h2>
                                <div className="flex justify-between mb-2 text-gray-300">
                                    <span>Subtotal</span>
                                    <span>${subtotal.toFixed(2)}</span>
                                </div>
                                <div className="flex justify-between mb-4 text-gray-300">
                                    <span>Shipping</span>
                                    <span>$5.00</span>
                                </div>
                                <div className="border-t border-gray-700 my-4"></div>
                                <div className="flex justify-between font-bold text-xl mb-6">
                                    <span>Total</span>
                                    <span>${(subtotal + 5).toFixed(2)}</span>
                                </div>
                                <button className="w-full px-8 py-3 f1-bg-accent text-white font-bold uppercase rounded-md hover:bg-red-700 transition-colors">
                                    Checkout
                                </button>
                            </div>
                        </div>
                    )}
                </div>
            );
        };

        const AuthForm = ({ title, children, ctaText, onSubmit, footerContent }) => (
            <div className="min-h-screen flex items-center justify-center bg-gray-900 animate-fade-in">
                <div className="w-full max-w-md p-8 space-y-6 bg-gray-800 rounded-lg shadow-lg">
                    <h1 className="text-3xl font-bold text-center text-white">{title}</h1>
                    <form className="space-y-6" onSubmit={onSubmit}>
                        {children}
                        <div>
                            <button type="submit" className="w-full px-4 py-2 f1-bg-accent text-white font-bold rounded-md hover:bg-red-700 transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 focus:ring-offset-gray-800">
                                {ctaText}
                            </button>
                        </div>
                    </form>
                    <div className="text-center text-sm text-gray-400">
                        {footerContent}
                    </div>
                </div>
            </div>
        );

        const LoginPage = ({ setPage }) => (
            <AuthForm
                title="Login to Apex"
                ctaText="Sign In"
                onSubmit={(e) => { e.preventDefault(); alert('Login successful!'); setPage('home'); }}
                footerContent={
                    <>
                        <a href="#" onClick={() => setPage('forgotPassword')} className="font-medium text-red-500 hover:text-red-400">Forgot your password?</a>
                        <p className="mt-2">Don't have an account? <a href="#" onClick={() => setPage('signup')} className="font-medium text-red-500 hover:text-red-400">Sign up</a></p>
                    </>
                }
            >
                <input type="email" placeholder="Email Address" required className="w-full bg-gray-700 border border-gray-600 rounded-md py-2 px-4 text-white focus:outline-none focus:ring-2 focus:ring-red-500" />
                <input type="password" placeholder="Password" required className="w-full bg-gray-700 border border-gray-600 rounded-md py-2 px-4 text-white focus:outline-none focus:ring-2 focus:ring-red-500" />
            </AuthForm>
        );

        const SignUpPage = ({ setPage }) => {
            const handleSubmit = (e) => {
                e.preventDefault();
                const formData = new FormData(e.target);
                const data = Object.fromEntries(formData.entries());
                console.log("--- Simulating Google Sheet Data Capture ---");
                console.log(data);
                // In a real app, a fetch call would be made here.
                // fetch('YOUR_GOOGLE_SHEET_WEB_APP_URL', { method: 'POST', body: JSON.stringify(data) })
                alert(`Thank you for signing up, ${data.name}!`);
                setPage('login');
            };

            return (
                <AuthForm
                    title="Create Account"
                    ctaText="Sign Up"
                    onSubmit={handleSubmit}
                    footerContent={<p>Already have an account? <a href="#" onClick={() => setPage('login')} className="font-medium text-red-500 hover:text-red-400">Log in</a></p>}
                >
                    <input name="name" type="text" placeholder="Full Name" required className="w-full bg-gray-700 border border-gray-600 rounded-md py-2 px-4 text-white focus:outline-none focus:ring-2 focus:ring-red-500" />
                    <input name="email" type="email" placeholder="Email Address" required className="w-full bg-gray-700 border border-gray-600 rounded-md py-2 px-4 text-white focus:outline-none focus:ring-2 focus:ring-red-500" />
                    <input name="password" type="password" placeholder="Password" required className="w-full bg-gray-700 border border-gray-600 rounded-md py-2 px-4 text-white focus:outline-none focus:ring-2 focus:ring-red-500" />
                </AuthForm>
            );
        };

        const ForgotPasswordPage = ({ setPage }) => {
            const [step, setStep] = useState(1); // 1: Email, 2: OTP, 3: Reset

            const handleEmailSubmit = (e) => {
                e.preventDefault();
                setStep(2);
            };
            const handleOtpSubmit = (e) => {
                e.preventDefault();
                // Simple OTP validation for prototype
                if (e.target.otp.value === '123456') {
                    setStep(3);
                } else {
                    alert('Invalid OTP. Please use 123456 for this demo.');
                }
            };
            const handleResetSubmit = (e) => {
                e.preventDefault();
                alert('Password has been reset successfully!');
                setPage('login');
            };

            if (step === 2) {
                return (
                    <AuthForm title="Enter OTP" ctaText="Verify OTP" onSubmit={handleOtpSubmit} footerContent={<a href="#" onClick={() => setStep(1)} className="font-medium text-red-500 hover:text-red-400">Back</a>}>
                        <p className="text-center text-gray-300 -mt-2 mb-4">An OTP has been sent to your email. (Hint: use 123456)</p>
                        <input name="otp" type="text" placeholder="6-Digit OTP" required className="w-full bg-gray-700 border border-gray-600 rounded-md py-2 px-4 text-white focus:outline-none focus:ring-2 focus:ring-red-500" />
                    </AuthForm>
                );
            }
            
            if (step === 3) {
                return (
                    <AuthForm title="Reset Password" ctaText="Save New Password" onSubmit={handleResetSubmit} footerContent={<a href="#" onClick={() => setPage('login')} className="font-medium text-red-500 hover:text-red-400">Back to Login</a>}>
                        <input type="password" placeholder="New Password" required className="w-full bg-gray-700 border border-gray-600 rounded-md py-2 px-4 text-white focus:outline-none focus:ring-2 focus:ring-red-500" />
                        <input type="password" placeholder="Confirm New Password" required className="w-full bg-gray-700 border border-gray-600 rounded-md py-2 px-4 text-white focus:outline-none focus:ring-2 focus:ring-red-500" />
                    </AuthForm>
                );
            }

            return (
                <AuthForm title="Forgot Password" ctaText="Send OTP" onSubmit={handleEmailSubmit} footerContent={<a href="#" onClick={() => setPage('login')} className="font-medium text-red-500 hover:text-red-400">Back to Login</a>}>
                    <input type="email" placeholder="Enter your Email Address" required className="w-full bg-gray-700 border border-gray-600 rounded-md py-2 px-4 text-white focus:outline-none focus:ring-2 focus:ring-red-500" />
                </AuthForm>
            );
        };


        // --- MAIN APP COMPONENT ---

        function App() {
            // State for routing
            const [page, setPage] = useState('home');
            
            // State for data
            const [cart, setCart] = useState([]);
            const [selectedProduct, setSelectedProduct] = useState(null);
            
            // Derived state for cart count
            const cartItemCount = useMemo(() => cart.reduce((sum, item) => sum + item.quantity, 0), [cart]);

            // Cart logic
            const addToCart = (productToAdd) => {
                setCart(prevCart => {
                    const existingItem = prevCart.find(item => item.id === productToAdd.id);
                    if (existingItem) {
                        return prevCart.map(item =>
                            item.id === productToAdd.id ? { ...item, quantity: item.quantity + 1 } : item
                        );
                    }
                    return [...prevCart, { ...productToAdd, quantity: 1 }];
                });
                alert(`${productToAdd.name} added to cart!`);
            };

            const updateQuantity = (productId, newQuantity) => {
                if (newQuantity < 1) {
                    removeFromCart(productId);
                } else {
                    setCart(prevCart => prevCart.map(item =>
                        item.id === productId ? { ...item, quantity: newQuantity } : item
                    ));
                }
            };

            const removeFromCart = (productId) => {
                setCart(prevCart => prevCart.filter(item => item.id !== productId));
            };

            // Page rendering logic
            const renderPage = () => {
                switch (page) {
                    case 'home':
                        return <HomePage setPage={setPage} />;
                    case 'category':
                        return <CategoryPage products={allProducts.filter(p => p.category === 'Tees')} setPage={setPage} setSelectedProduct={setSelectedProduct} />;
                    case 'product':
                        return <ProductPage product={selectedProduct} addToCart={addToCart} setPage={setPage} />;
                    case 'cart':
                        return <CartPage cart={cart} updateQuantity={updateQuantity} removeFromCart={removeFromCart} setPage={setPage} />;
                    case 'login':
                        return <LoginPage setPage={setPage} />;
                    case 'signup':
                        return <SignUpPage setPage={setPage} />;
                    case 'forgotPassword':
                        return <ForgotPasswordPage setPage={setPage} />;
                    default:
                        return <HomePage setPage={setPage} />;
                }
            };
            
            const isAuthPage = ['login', 'signup', 'forgotPassword'].includes(page);

            return (
                <div>
                    {!isAuthPage && <Header setPage={setPage} cartItemCount={cartItemCount} />}
                    <main>
                        {renderPage()}
                    </main>
                    {!isAuthPage && (
                        <footer className="bg-gray-900">
                            <div className="container mx-auto px-4 sm:px-6 lg:px-8 py-6 text-center text-gray-400">
                                &copy; {new Date().getFullYear()} Apex Attire. All Rights Reserved.
                            </div>
                        </footer>
                    )}
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>